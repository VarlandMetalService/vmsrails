<% provide(:title, 'Promise List') %>

<div class="row mt-3">
  <% if @promised_jobs.size == 0 %>
    <div class="col"><p><mark>There are currently no promised jobs.</mark></p></div>
  <% else %>
    <div class="col-12">
      <h4>Promise List</h4>
    </div>
    <% @dates.each do |key, object| %>
      <div class="col-xs-12 col-md-4 col-lg">
        <div class="card mb-3<%= ' bg-danger text-white' if object[:class] == 'danger' %>">
          <h6 class="card-header bg-<%= object[:class] %> text-white p-2">
            <%= key %>
            <span class="badge badge-warning pull-right"><%= object[:jobs].size %></span>
          </h6>
          <ul class="list-group list-group-flush">
            <%= render partial: 'promised_job',
                       collection: object[:jobs],
                       locals: { object_class: object[:class] } %>
          </ul>
        </div>
      </div>
    <% end %>
  <% end %>
</div>